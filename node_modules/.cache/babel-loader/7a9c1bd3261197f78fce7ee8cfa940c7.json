{"ast":null,"code":"import _asyncToGenerator from\"/Users/abhishekyadav/pintag/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/abhishekyadav/pintag/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/abhishekyadav/pintag/client/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from'react';import'./Verify.css';import{toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{useDispatch,useSelector}from'react-redux';import axios from'axios';import{useNavigate}from'react-router';import{getUserQR}from'../../redux/action/action';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";toast.configure();var Verify=function Verify(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),otp=_useState2[0],setOtp=_useState2[1];var dispatch=useDispatch();var navigate=useNavigate();var userData=useSelector(function(state){return state.userDataReducer.userData;});var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var name,email,mNo,vNo,body;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(!otp||otp.length!==4)){_context.next=2;break;}return _context.abrupt(\"return\",toast.error(\"Enter 4 digit OTP\"));case 2:name=userData.name,email=userData.email,mNo=userData.mNo,vNo=userData.vNo;body=JSON.stringify({name:name,uEmail:email,mNo:mNo,vNo:vNo});_context.next=6;return axios({method:\"POST\",url:\"http://localhost:8080/api/v1/validate/otp/\".concat(otp),headers:{\"Content-Type\":\"application/json\"},data:body}).then(function(res){dispatch(getUserQR(res.data.data));toast.success(\"User Successfully activated\");navigate('/QrCode');}).catch(function(err){toast.error(\"Wrong OTP\");navigate('/register');});case 6:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"Verify_Container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Scanner__Container-contentContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"-contentContainer__contentBx\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Verify Account\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Enter Your OTP to activate account.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__contentBx-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Your OTP\",onChange:function onChange(e){setOtp(e.target.value);},value:otp}),/*#__PURE__*/_jsx(\"button\",{onClick:onSubmit,children:\"Verify\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"imgBx\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://images.unsplash.com/photo-1535303311164-664fc9ec6532?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8bWVzc2FnZXN8ZW58MHwxfDB8fA%3D%3D&auto=format&fit=crop&w=800&q=60\",alt:\"\"})})]})});};export default Verify;","map":{"version":3,"sources":["/Users/abhishekyadav/pintag/client/src/components/verifyOTP/Verify.js"],"names":["React","useState","toast","useDispatch","useSelector","axios","useNavigate","getUserQR","configure","Verify","otp","setOtp","dispatch","navigate","userData","state","userDataReducer","onSubmit","length","error","name","email","mNo","vNo","body","JSON","stringify","uEmail","method","url","headers","data","then","res","success","catch","err","e","target","value"],"mappings":"2WAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAO,cAAP,CACA,OAAQC,KAAR,KAAoB,gBAApB,CACA,MAAO,uCAAP,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,cAA5B,CACA,OAASC,SAAT,KAA0B,2BAA1B,C,6IAEAL,KAAK,CAACM,SAAN,GAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACjB,cAAqBR,QAAQ,CAAC,EAAD,CAA7B,wCAAOS,GAAP,eAAWC,MAAX,eACA,GAAMC,CAAAA,QAAQ,CAAGT,WAAW,EAA5B,CACA,GAAMU,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CAEA,GAAMQ,CAAAA,QAAQ,CAAGV,WAAW,CAAC,SAACW,KAAD,QAAWA,CAAAA,KAAK,CAACC,eAAN,CAAsBF,QAAjC,EAAD,CAA5B,CACA,GAAMG,CAAAA,QAAQ,0FAAG,oKACV,CAACP,GAAD,EAAQA,GAAG,CAACQ,MAAJ,GAAe,CADb,0DAEFhB,KAAK,CAACiB,KAAN,qBAFE,SAKNC,IALM,CAKgBN,QALhB,CAKNM,IALM,CAKDC,KALC,CAKgBP,QALhB,CAKDO,KALC,CAKKC,GALL,CAKgBR,QALhB,CAKKQ,GALL,CAKSC,GALT,CAKgBT,QALhB,CAKSS,GALT,CAMPC,IANO,CAMAC,IAAI,CAACC,SAAL,CAAe,CACxBN,IAAI,CAAJA,IADwB,CACnBO,MAAM,CAAGN,KADU,CACJC,GAAG,CAAHA,GADI,CACAC,GAAG,CAAHA,GADA,CAAf,CANA,uBASPlB,CAAAA,KAAK,CAAC,CACRuB,MAAM,CAAG,MADD,CAERC,GAAG,qDAAgDnB,GAAhD,CAFK,CAGRoB,OAAO,CAAG,CACN,eAAiB,kBADX,CAHF,CAMRC,IAAI,CAAGP,IANC,CAAD,CAAL,CAOHQ,IAPG,CAOE,SAACC,GAAD,CAAS,CACbrB,QAAQ,CAACL,SAAS,CAAC0B,GAAG,CAACF,IAAJ,CAASA,IAAV,CAAV,CAAR,CACA7B,KAAK,CAACgC,OAAN,gCACArB,QAAQ,CAAC,SAAD,CAAR,CACH,CAXK,EAWHsB,KAXG,CAWG,SAACC,GAAD,CAAS,CACdlC,KAAK,CAACiB,KAAN,cACAN,QAAQ,CAAC,WAAD,CAAR,CACH,CAdK,CATO,uDAAH,kBAARI,CAAAA,QAAQ,0CAAd,CA6BF,mBACE,sCACI,aAAK,SAAS,CAAC,kBAAf,wBACA,YAAK,SAAS,CAAC,qCAAf,uBACI,aAAK,SAAS,CAAC,8BAAf,wBACI,oCACI,sCADJ,cAEI,2DAFJ,GADJ,cAKI,aAAK,SAAS,CAAC,kBAAf,wBACI,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,gBAA/B,CAAiD,QAAQ,CAAE,kBAACoB,CAAD,CAAO,CAAC1B,MAAM,CAAC0B,CAAC,CAACC,MAAF,CAASC,KAAV,CAAN,CAAuB,CAA1F,CAA4F,KAAK,CAAE7B,GAAnG,EADJ,cAEI,eAAQ,OAAO,CAAEO,QAAjB,oBAFJ,GALJ,GADJ,EADA,cAaI,YAAK,SAAS,CAAC,OAAf,uBACI,YAAK,GAAG,gLAAR,CAA2L,GAAG,CAAC,EAA/L,EADJ,EAbJ,GADJ,EADF,CAqBD,CAxDD,CA0DA,cAAeR,CAAAA,MAAf","sourcesContent":["import React, { useState } from 'react'\nimport './Verify.css'\nimport {toast} from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css'\nimport { useDispatch, useSelector } from 'react-redux';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router';\nimport { getUserQR } from '../../redux/action/action';\n\ntoast.configure();\n\nconst Verify = () => {\n    const [otp,setOtp] = useState('');\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n\n    const userData = useSelector((state) => state.userDataReducer.userData);\n    const onSubmit = async() => {\n        if(!otp || otp.length !== 4){\n            return toast.error(`Enter 4 digit OTP`)\n        }\n\n        const {name,email,mNo,vNo} = userData\n        const body = JSON.stringify({\n            name,uEmail : email,mNo,vNo\n        })\n        await axios({\n            method : \"POST\",\n            url : `http://localhost:8080/api/v1/validate/otp/${otp}`,\n            headers : {\n                \"Content-Type\" : \"application/json\"\n            },\n            data : body\n        }).then((res) => {\n            dispatch(getUserQR(res.data.data))\n            toast.success(`User Successfully activated`);\n            navigate('/QrCode');\n        }).catch((err) => {\n            toast.error(`Wrong OTP`);\n            navigate('/register')\n        })\n\n        \n\n    }\n\n  return (\n    <>\n        <div className=\"Verify_Container\">\n        <div className=\"Scanner__Container-contentContainer\">\n            <div className=\"-contentContainer__contentBx\">\n                <div>\n                    <h1>Verify Account</h1>\n                    <h3>Enter Your OTP to activate account.</h3>\n                </div>\n                <div className='__contentBx-form'>\n                    <input type=\"text\" placeholder='Enter Your OTP'  onChange={(e) => {setOtp(e.target.value)}} value={otp}/>\n                    <button onClick={onSubmit}>Verify</button>\n                </div>\n            </div>\n            </div>\n            <div className=\"imgBx\">\n                <img src={`https://images.unsplash.com/photo-1535303311164-664fc9ec6532?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8bWVzc2FnZXN8ZW58MHwxfDB8fA%3D%3D&auto=format&fit=crop&w=800&q=60`} alt=\"\" />\n            </div>\n        </div>\n    </>\n  )\n}\n\nexport default Verify"]},"metadata":{},"sourceType":"module"}