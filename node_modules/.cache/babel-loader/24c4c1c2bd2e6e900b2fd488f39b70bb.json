{"ast":null,"code":"import _slicedToArray from\"/Users/abhishekyadav/pintag/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _asyncToGenerator from\"/Users/abhishekyadav/pintag/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/abhishekyadav/pintag/client/node_modules/@babel/runtime/regenerator/index.js\";import axios from'axios';import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{useParams}from'react-router';import{getUserInfo}from'../../redux/action/action';import{toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import'./UserInfo.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";toast.configure();var UserInfo=function UserInfo(){var _uInfo$user2,_uInfo$user3;var _useParams=useParams(),email=_useParams.email;var dispatch=useDispatch();var getUserInfoBackend=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios({method:\"GET\",url:\"http://localhost:8080/api/v1/user/\".concat(email),headers:{'Content-Type':\"application/json\"}}).then(function(res){dispatch(getUserInfo(res.data.data));});case 2:case\"end\":return _context.stop();}}},_callee);}));return function getUserInfoBackend(){return _ref.apply(this,arguments);};}();useEffect(function(){getUserInfoBackend();},[]);var uInfo=useSelector(function(state){return state.userInfoReducer.userData;});var _useState=useState(''),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),msgInfoEmail=_useState4[0],setMsgInfoEmail=_useState4[1];var onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _uInfo$user;var emailRegEx,body;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(message){_context2.next=2;break;}return _context2.abrupt(\"return\",toast.warning(\"Select Message\"));case 2:emailRegEx=/[a-zA-Z0-9._%+-]+@[a-z0-9._]+\\.[a-z]{2,8}(.[a-z{2,8}])?/g;if(!(!msgInfoEmail||!emailRegEx.test(msgInfoEmail))){_context2.next=5;break;}return _context2.abrupt(\"return\",toast.warning(\"Invalid Email.\"));case 5:body=JSON.stringify({\"from\":msgInfoEmail,\"to\":uInfo===null||uInfo===void 0?void 0:(_uInfo$user=uInfo.user)===null||_uInfo$user===void 0?void 0:_uInfo$user.userEmail,\"message\":message});_context2.next=8;return axios({method:\"POST\",url:\"http://localhost:8080/api/v1/user/sendMessage\",headers:{\"Content-Type\":'application/json'},data:body}).then(function(){toast.success(\"Message Sent\");});case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function onSubmit(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"QrCode__Container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"imgBx\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://images.unsplash.com/photo-1571867424488-4565932edb41?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=774&q=80\",alt:\"alt\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"QrCode__Container-contentContainer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"-contentContainer__contentBx\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Contact Info\"}),/*#__PURE__*/_jsxs(\"h3\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'crimson'},children:uInfo===null||uInfo===void 0?void 0:(_uInfo$user2=uInfo.user)===null||_uInfo$user2===void 0?void 0:_uInfo$user2.name}),\" | \",uInfo===null||uInfo===void 0?void 0:(_uInfo$user3=uInfo.user)===null||_uInfo$user3===void 0?void 0:_uInfo$user3.vehicleNo]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__Form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"__rBx\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"r1\",value:'Your Car is on No Parking',onChange:function onChange(e){setMessage(e.target.value);}}),\" Your Car is on No Parking\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__rBx\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"r1\",value:\"The Car is getting Towed\",onChange:function onChange(e){setMessage(e.target.value);}}),\" The Car is getting Towed\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"__rBx\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"r1\",value:\"Window is Open\",onChange:function onChange(e){setMessage(e.target.value);}}),\" Window is open\"]}),/*#__PURE__*/_jsx(\"p\",{style:{marginTop:\"20px\"},children:\"Your Contact Info\"}),/*#__PURE__*/_jsx(\"input\",{type:\"emai\",placeholder:\"Enter Your Email\",className:\"__msgInfo\",onChange:function onChange(e){setMsgInfoEmail(e.target.value);},value:msgInfoEmail}),/*#__PURE__*/_jsx(\"button\",{onClick:onSubmit,children:\"message\"})]})]})})})]});};export default UserInfo;","map":{"version":3,"sources":["/Users/abhishekyadav/pintag/client/src/components/userInfo/UserInfo.js"],"names":["axios","React","useEffect","useState","useDispatch","useSelector","useParams","getUserInfo","toast","configure","UserInfo","email","dispatch","getUserInfoBackend","method","url","headers","then","res","data","uInfo","state","userInfoReducer","userData","message","setMessage","msgInfoEmail","setMsgInfoEmail","onSubmit","warning","emailRegEx","test","body","JSON","stringify","user","userEmail","success","color","name","vehicleNo","e","target","value","marginTop"],"mappings":"2WAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,SAAT,KAA0B,cAA1B,CACA,OAASC,WAAT,KAA4B,2BAA5B,CACA,OAAQC,KAAR,KAAoB,gBAApB,CACA,MAAO,uCAAP,CACA,MAAO,gBAAP,C,wFAEAA,KAAK,CAACC,SAAN,GAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,+BACnB,eAAgBJ,SAAS,EAAzB,CAAOK,KAAP,YAAOA,KAAP,CACA,GAAMC,CAAAA,QAAQ,CAAGR,WAAW,EAA5B,CAEA,GAAMS,CAAAA,kBAAkB,0FAAG,yJACjBb,CAAAA,KAAK,CAAC,CACRc,MAAM,CAAG,KADD,CAERC,GAAG,6CAAwCJ,KAAxC,CAFK,CAGRK,OAAO,CAAG,CACN,eAAiB,kBADX,CAHF,CAAD,CAAL,CAMHC,IANG,CAME,SAACC,GAAD,CAAS,CACbN,QAAQ,CAACL,WAAW,CAACW,GAAG,CAACC,IAAJ,CAASA,IAAV,CAAZ,CAAR,CACH,CARK,CADiB,uDAAH,kBAAlBN,CAAAA,kBAAkB,0CAAxB,CAYAX,SAAS,CAAC,UAAM,CACZW,kBAAkB,GACrB,CAFQ,CAEP,EAFO,CAAT,CAIA,GAAMO,CAAAA,KAAK,CAAGf,WAAW,CAAC,SAACgB,KAAD,QAAWA,CAAAA,KAAK,CAACC,eAAN,CAAsBC,QAAjC,EAAD,CAAzB,CAEA,cAA6BpB,QAAQ,CAAC,EAAD,CAArC,wCAAOqB,OAAP,eAAeC,UAAf,eACA,eAAuCtB,QAAQ,CAAC,EAAD,CAA/C,yCAAOuB,YAAP,eAAoBC,eAApB,eAGA,GAAMC,CAAAA,QAAQ,2FAAG,+KACTJ,OADS,2DAEFhB,KAAK,CAACqB,OAAN,kBAFE,SAKPC,UALO,CAKM,0DALN,MAMV,CAACJ,YAAD,EAAiB,CAACI,UAAU,CAACC,IAAX,CAAgBL,YAAhB,CANR,4DAOFlB,KAAK,CAACqB,OAAN,CAAc,gBAAd,CAPE,SAUPG,IAVO,CAUAC,IAAI,CAACC,SAAL,CAAe,CACxB,OAASR,YADe,CAExB,KAAON,KAAP,SAAOA,KAAP,8BAAOA,KAAK,CAAEe,IAAd,sCAAO,YAAaC,SAFI,CAGxB,UAAYZ,OAHY,CAAf,CAVA,wBAgBPxB,CAAAA,KAAK,CAAC,CACRc,MAAM,CAAG,MADD,CAERC,GAAG,CAAG,+CAFE,CAGRC,OAAO,CAAG,CACN,eAAiB,kBADX,CAHF,CAMRG,IAAI,CAAGa,IANC,CAAD,CAAL,CAOHf,IAPG,CAOE,UAAM,CACVT,KAAK,CAAC6B,OAAN,CAAc,cAAd,EACH,CATK,CAhBO,yDAAH,kBAART,CAAAA,QAAQ,2CAAd,CA6BF,mBACE,aAAK,SAAS,CAAC,mBAAf,wBACA,YAAK,SAAS,CAAC,OAAf,uBACI,YAAK,GAAG,gKAAR,CAA2K,GAAG,MAA9K,EADJ,EADA,cAIA,YAAK,SAAS,CAAC,oCAAf,uBACI,YAAK,SAAS,CAAC,8BAAf,uBACI,oCACI,oCADJ,cAEI,mCAAI,aAAM,KAAK,CAAE,CAACU,KAAK,CAAG,SAAT,CAAb,UAAmClB,KAAnC,SAAmCA,KAAnC,+BAAmCA,KAAK,CAAEe,IAA1C,uCAAmC,aAAaI,IAAhD,EAAJ,OAAoEnB,KAApE,SAAoEA,KAApE,+BAAoEA,KAAK,CAAEe,IAA3E,uCAAoE,aAAaK,SAAjF,GAFJ,cAGI,aAAK,SAAS,CAAC,QAAf,wBACI,aAAK,SAAS,CAAC,OAAf,wBACI,cAAO,IAAI,CAAC,OAAZ,CAAoB,IAAI,CAAC,IAAzB,CAA8B,KAAK,CAAE,2BAArC,CAAkE,QAAQ,CAAE,kBAACC,CAAD,CAAO,CAAChB,UAAU,CAACgB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAV,CAA2B,CAA/G,EADJ,gCADJ,cAII,aAAK,SAAS,CAAC,OAAf,wBACI,cAAO,IAAI,CAAC,OAAZ,CAAoB,IAAI,CAAC,IAAzB,CAA8B,KAAK,2BAAnC,CAAiE,QAAQ,CAAE,kBAACF,CAAD,CAAO,CAAChB,UAAU,CAACgB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAV,CAA2B,CAA9G,EADJ,+BAJJ,cAOI,aAAK,SAAS,CAAC,OAAf,wBACI,cAAO,IAAI,CAAC,OAAZ,CAAoB,IAAI,CAAC,IAAzB,CAA8B,KAAK,iBAAnC,CAAuD,QAAQ,CAAE,kBAACF,CAAD,CAAO,CAAChB,UAAU,CAACgB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAV,CAA2B,CAApG,EADJ,qBAPJ,cAWI,UAAG,KAAK,CAAE,CAACC,SAAS,CAAG,MAAb,CAAV,+BAXJ,cAYI,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,kBAA/B,CAAkD,SAAS,CAAC,WAA5D,CAAwE,QAAQ,CAAE,kBAACH,CAAD,CAAO,CAACd,eAAe,CAACc,CAAC,CAACC,MAAF,CAASC,KAAV,CAAf,CAAgC,CAA1H,CAA4H,KAAK,CAAEjB,YAAnI,EAZJ,cAaI,eAAQ,OAAO,CAAEE,QAAjB,qBAbJ,GAHJ,GADJ,EADJ,EAJA,GADF,CA8BD,CArFD,CAuFA,cAAelB,CAAAA,QAAf","sourcesContent":["import axios from 'axios';\nimport React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router'\nimport { getUserInfo } from '../../redux/action/action';\nimport {toast} from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css'\nimport './UserInfo.css'\n\ntoast.configure();\n\nconst UserInfo = () => {\n    const {email} = useParams();\n    const dispatch = useDispatch();\n\n    const getUserInfoBackend = async() => {\n        await axios({\n            method : \"GET\",\n            url : `http://localhost:8080/api/v1/user/${email}`,\n            headers : {\n                'Content-Type' : \"application/json\"\n            }\n        }).then((res) => {\n            dispatch(getUserInfo(res.data.data))\n        })\n    }\n\n    useEffect(() => {\n        getUserInfoBackend();\n    },[])\n\n    const uInfo = useSelector((state) => state.userInfoReducer.userData);\n\n    const [message,setMessage] = useState('');\n    const [msgInfoEmail,setMsgInfoEmail] = useState('')\n    \n\n    const onSubmit = async() => {\n        if(!message){\n            return toast.warning(`Select Message`)\n        }\n\n        const emailRegEx = /[a-zA-Z0-9._%+-]+@[a-z0-9._]+\\.[a-z]{2,8}(.[a-z{2,8}])?/g\n        if(!msgInfoEmail || !emailRegEx.test(msgInfoEmail)){\n            return toast.warning(\"Invalid Email.\");\n        }\n\n        const body = JSON.stringify({\n            \"from\" : msgInfoEmail,\n            \"to\" : uInfo?.user?.userEmail,\n            \"message\" : message \n        })\n\n        await axios({\n            method : \"POST\",\n            url : \"http://localhost:8080/api/v1/user/sendMessage\",\n            headers : {\n                \"Content-Type\" : 'application/json'\n            },\n            data : body\n        }).then(() => {\n            toast.success(\"Message Sent\")\n        })\n    }\n\n\n  return (\n    <div className='QrCode__Container'>\n    <div className=\"imgBx\">\n        <img src={`https://images.unsplash.com/photo-1571867424488-4565932edb41?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=774&q=80`} alt={`alt`} />\n    </div>\n    <div className=\"QrCode__Container-contentContainer\">\n        <div className=\"-contentContainer__contentBx\">\n            <div>\n                <h1>Contact Info</h1>\n                <h3><span style={{color : 'crimson'}}>{uInfo?.user?.name}</span> | {uInfo?.user?.vehicleNo}</h3>\n                <div className='__Form'>\n                    <div className='__rBx' >\n                        <input type=\"radio\" name='r1' value={'Your Car is on No Parking'} onChange={(e) => {setMessage(e.target.value)}}/> Your Car is on No Parking\n                    </div>\n                    <div className='__rBx'>\n                        <input type=\"radio\" name='r1' value={`The Car is getting Towed`} onChange={(e) => {setMessage(e.target.value)}}/> The Car is getting Towed\n                    </div>\n                    <div className='__rBx'>\n                        <input type=\"radio\" name='r1' value={`Window is Open`} onChange={(e) => {setMessage(e.target.value)}}/> Window is open\n                    </div>\n\n                    <p style={{marginTop : \"20px\"}}>Your Contact Info</p>\n                    <input type=\"emai\" placeholder='Enter Your Email' className='__msgInfo' onChange={(e) => {setMsgInfoEmail(e.target.value)}} value={msgInfoEmail}/>\n                    <button onClick={onSubmit}>message</button>\n                </div>\n            </div>\n        </div>\n    </div>\n    </div>\n  )\n}\n\nexport default UserInfo"]},"metadata":{},"sourceType":"module"}